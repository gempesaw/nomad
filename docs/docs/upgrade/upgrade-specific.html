<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Specific versions of Nomad may have additional information about the upgrade process beyond the standard flow.">

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon-d0ced218.png">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-194x194-bb8de46a.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/assets/images/favicons/android-chrome-192x192-9f336178.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-32x32-10aa6ba6.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-16x16-330a0dd1.png" sizes="16x16">
    <link rel="manifest" href="/android-manifest.json">
    <link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab-479e3179.svg" color="#25BA81">
    <meta name="apple-mobile-web-app-title" content="HashiCorp Nomad">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="application-name" content="HashiCorp Nomad">
    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="msapplication-TileColor" content="#25BA81">
    <meta name="msapplication-TileImage" content="/assets/images/favicons/mstile-144x144-7f37eaf2.png">
    <meta name="theme-color" content="#ffffff">

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@HashiCorp" />
    <meta name="twitter:creator" content="@HashiCorp" />
    <meta property="og:url" content="https://www.nomadproject.io/docs/upgrade/upgrade-specific.html" />
    <meta property="og:title" content="Upgrade Guides - Nomad by HashiCorp" />
    <meta property="og:site_name" content="Nomad by HashiCorp"/>
    <meta property="og:image" content="https://www.nomadproject.io/assets/images/og-image-e0e8d18d.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="1200"/>
    <meta property="og:description" content="Specific versions of Nomad may have additional information about the upgrade process beyond the standard flow." />

    <title>Upgrade Guides - Nomad by HashiCorp</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://use.typekit.net/wxf7mfi.css">
    <link href="/assets/stylesheets/application-b44b5029.css" rel="stylesheet" />

    <!-- Site scripts -->
    <!--[if lt IE 9]><script src="/assets/javascripts/ie-compat-c141a02d.js" defer="defer"></script><![endif]-->
    <script src="/assets/javascripts/application-4af6ff56.js" defer="defer"></script>


  </head>

  <body id="page-docs-upgrade-specific" class="layout-docs page-upgrade-guides">

    <svg class="hidden-print" aria-hidden="true" style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="mega-nav-icon-angle" viewBox="0 0 13 7">
      <polygon points="6.5,6.5 0.7,1.6 1.3,0.8 6.5,5.2 11.7,0.8 12.3,1.6 "/>
    </symbol>
    <symbol id="mega-nav-icon-close" viewBox="0 0 13 15">
      <path vector-effect="non-scaling-stroke" d="M1.1 14L11.9 1M11.9 14L1.1 1"/>
    </symbol>
  </defs>
</svg>
<div class="hidden-print mega-nav-sandbox">
  <div class="mega-nav-banner">
    <div class="container">
      <div class="mega-nav-banner-item">
        <a class="mega-nav-banner-logo" href="https://www.hashicorp.com"><img src="/assets/images/mega-nav/logo-hashicorp-wordmark-bbed0e8a.svg" alt="HashiCorp Logo" /></a>
      </div>
      <div class="mega-nav-banner-item">
        <p class="mega-nav-tagline"><span class="visible-xs text-muted">Learn the</span><span class="hidden-xs text-muted">Learn how Nomad fits into the</span></p>
        <div id="#mega-nav" class="mega-nav">
          <button type="button" id="mega-nav-ctrl" class="mega-nav-ctrl">
            <div class="mega-nav-ctrl-items">
              <img src="/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" />
              <strong>HashiCorp Suite</strong>
              <span class="mega-nav-icon-outline">
                <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg><span class="visuallyhidden">Open</span>
              </span>
            </div>
          </button>
          <div id="mega-nav-body-ct" class="mega-nav-body-ct" aria-labelledby="mega-nav-ctrl">
            <div class="mega-nav-body">
              <button type="button" id="mega-nav-close" class="mega-nav-close"><svg class="mega-nav-icon mega-nav-icon-close" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-close"></use></svg><span class="visuallyhidden">Close</span></button>
              <div class="mega-nav-body-header">
                <div class="mega-nav-body-header-item">
                  <h2 class="mega-nav-h1">Provision, Secure, Connect, and&nbsp;Run</h2>
                  <p class="mega-nav-h2">Any infrastructure for any&nbsp;application</p>
                </div>
                <div class="mega-nav-body-header-item">
                  <a href="https://www.hashicorp.com/" class="mega-nav-btn"><img src="/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" /> Learn the HashiCorp Enterprise&nbsp;Suite <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg></a>
                </div>
              </div>
              <div class="mega-nav-body-grid">
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Provision</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vagrantup.com" class="mega-nav-grid-item mega-nav-grid-item-vagrant">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-vagrant-a7ab5898.svg" alt="Vagrant Logo" />
                        </div>
                        <b>Vagrant</b>
                        <ul>
                          <li><span class="mega-nav-tag">Build</span></li>
                          <li><span class="mega-nav-tag">Test</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.packer.io" class="mega-nav-grid-item mega-nav-grid-item-packer">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-packer-cb3b9b94.svg" alt="Packer Logo" />
                        </div>
                        <b>Packer</b>
                        <ul>
                          <li><span class="mega-nav-tag">Package</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.terraform.io" class="mega-nav-grid-item mega-nav-grid-item-terraform">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-terraform-ff69eaae.svg" alt="Terraform Logo" />
                        </div>
                        <b>Terraform</b>
                        <ul>
                          <li><span class="mega-nav-tag">Provision</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Secure</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vaultproject.io" class="mega-nav-grid-item mega-nav-grid-item-vault">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-vault-0f83e3d2.svg" alt="Vault Logo" />
                        </div>
                        <b>Vault</b>
                        <ul>
                          <li><span class="mega-nav-tag">Secure</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Connect</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.consul.io" class="mega-nav-grid-item mega-nav-grid-item-consul">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-consul-c77f6844.svg" alt="Consul Logo" />
                        </div>
                        <b>Consul</b>
                        <ul>
                          <li><span class="mega-nav-tag">Connect</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Run</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.nomadproject.io" class="mega-nav-grid-item mega-nav-grid-item-nomad">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-nomad-c4c148be.svg" alt="Nomad Logo" />
                        </div>
                        <b>Nomad</b>
                        <ul>
                          <li><span class="mega-nav-tag">Run</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="mega-nav-body-footer">
                <p>Seven elements of the modern Application Lifecycle</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 207 60" class="logo" height="50">
  <g fill="none">
    <path class="top" fill="#25BA81" d="M26.03.01L0 15.05l17.56 10.32 3.56-2.17 8.63 4.82v-10l8.27-4.97v10.02l14.48-8.02v-.04"></path>
    <path class="left" fill="#25BA81" d="M22.75 32.03v9.99l-7.88 5v-20l2.99-1.83L.15 15.05H0v29.96l26.25 15V34.03"></path>
    <path class="right" fill="#1F9967" d="M38.02 23.07v9.95l-6.93 4.01-4.84-3v25.98h.14l26.11-15V15.05l-.49-.01"></path>
    <path class="text" fill="#000" d="M78.49 21.83v24.24h-5.9v-32h8.06l12.14 24.32V14.1h5.9v32h-8.06m22.46.45c-8 0-10.18-4.42-10.18-9.22v-5.9c0-4.8 2.16-9.22 10.18-9.22s10.18 4.42 10.18 9.22v5.91c0 4.79-2.16 9.21-10.18 9.21zm0-19.35c-3.12 0-4.32 1.39-4.32 4v6.29c0 2.64 1.2 4 4.32 4s4.32-1.39 4.32-4v-6.25c0-2.64-1.2-4.04-4.32-4.04zm27.99 18.87V29.75c0-1.25-.53-1.87-1.87-1.87-2.147.252-4.22.932-6.1 2v16.19h-5.86V22.69h4.46l.58 2c2.916-1.46 6.104-2.293 9.36-2.45 1.852-.175 3.616.823 4.42 2.5 2.922-1.495 6.13-2.348 9.41-2.5 3.89 0 5.28 2.74 5.28 6.91v16.92h-5.86V29.75c0-1.25-.53-1.87-1.87-1.87-2.15.234-4.23.915-6.1 2v16.19h-5.85zm41.81 0h-4.8l-.43-1.58c-2.084 1.352-4.516 2.068-7 2.06-4.27 0-6.1-2.93-6.1-7 0-4.75 2.06-6.58 6.82-6.58H177v-2.41c0-2.59-.72-3.5-4.46-3.5-2.18.024-4.35.265-6.48.72l-.72-4.46c2.606-.72 5.296-1.09 8-1.1 7.34 0 9.5 2.59 9.5 8.45l.05 15.4zM177 37.24h-4.32c-1.92 0-2.45.53-2.45 2.3 0 1.77.53 2.35 2.35 2.35 1.55-.02 3.07-.434 4.42-1.2v-3.45zm9.48-6.77c0-5.18 2.3-8.26 7.73-8.26 2.097.02 4.187.244 6.24.67v-9.74l5.86-.82v33.75h-4.66l-.58-2c-2.133 1.595-4.726 2.454-7.39 2.45-4.7 0-7.2-2.79-7.2-8.11v-7.94zm14-2.64c-1.702-.38-3.437-.588-5.18-.62-2.11 0-2.93 1-2.93 3.12v8.26c0 1.92.72 3 2.88 3 1.937-.07 3.787-.816 5.23-2.11V27.83z"></path>
  </g>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="/intro/index.html">Intro</a></li>
                  <li><a href="/guides/index.html">Guides</a></li>
                  <li><a href="/docs/index.html">Docs</a></li>
                  <li><a href="/api/index.html">API</a></li>
                  <li><a href="/resources.html">Resources</a></li>
                  <li><a href="https://www.hashicorp.com/products/nomad/?utm_source=oss&utm_medium=header-nav&utm_campaign=nomad">Enterprise</a></li>
                  <li><a href="https://demo.nomadproject.io">UI Demo</a></li>
                  <li>
                    <a href="/downloads.html">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/hashicorp/nomad">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 207 60" height="42">
  <g fill="none">
    <path class="top" fill="#25BA81" d="M26.03.01L0 15.05l17.56 10.32 3.56-2.17 8.63 4.82v-10l8.27-4.97v10.02l14.48-8.02v-.04"></path>
    <path class="left" fill="#25BA81" d="M22.75 32.03v9.99l-7.88 5v-20l2.99-1.83L.15 15.05H0v29.96l26.25 15V34.03"></path>
    <path class="right" fill="#1F9967" d="M38.02 23.07v9.95l-6.93 4.01-4.84-3v25.98h.14l26.11-15V15.05l-.49-.01"></path>
    <path class="text" fill="#000" d="M78.49 21.83v24.24h-5.9v-32h8.06l12.14 24.32V14.1h5.9v32h-8.06m22.46.45c-8 0-10.18-4.42-10.18-9.22v-5.9c0-4.8 2.16-9.22 10.18-9.22s10.18 4.42 10.18 9.22v5.91c0 4.79-2.16 9.21-10.18 9.21zm0-19.35c-3.12 0-4.32 1.39-4.32 4v6.29c0 2.64 1.2 4 4.32 4s4.32-1.39 4.32-4v-6.25c0-2.64-1.2-4.04-4.32-4.04zm27.99 18.87V29.75c0-1.25-.53-1.87-1.87-1.87-2.147.252-4.22.932-6.1 2v16.19h-5.86V22.69h4.46l.58 2c2.916-1.46 6.104-2.293 9.36-2.45 1.852-.175 3.616.823 4.42 2.5 2.922-1.495 6.13-2.348 9.41-2.5 3.89 0 5.28 2.74 5.28 6.91v16.92h-5.86V29.75c0-1.25-.53-1.87-1.87-1.87-2.15.234-4.23.915-6.1 2v16.19h-5.85zm41.81 0h-4.8l-.43-1.58c-2.084 1.352-4.516 2.068-7 2.06-4.27 0-6.1-2.93-6.1-7 0-4.75 2.06-6.58 6.82-6.58H177v-2.41c0-2.59-.72-3.5-4.46-3.5-2.18.024-4.35.265-6.48.72l-.72-4.46c2.606-.72 5.296-1.09 8-1.1 7.34 0 9.5 2.59 9.5 8.45l.05 15.4zM177 37.24h-4.32c-1.92 0-2.45.53-2.45 2.3 0 1.77.53 2.35 2.35 2.35 1.55-.02 3.07-.434 4.42-1.2v-3.45zm9.48-6.77c0-5.18 2.3-8.26 7.73-8.26 2.097.02 4.187.244 6.24.67v-9.74l5.86-.82v33.75h-4.66l-.58-2c-2.133 1.595-4.726 2.454-7.39 2.45-4.7 0-7.2-2.79-7.2-8.11v-7.94zm14-2.64c-1.702-.38-3.437-.588-5.18-.62-2.11 0-2.93 1-2.93 3.12v8.26c0 1.92.72 3 2.88 3 1.937-.07 3.787-.816 5.23-2.11V27.83z"></path>
  </g>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="/intro/index.html">Intro</a></li>
    <li><a href="/guides/index.html">Guides</a></li>
    <li><a href="/docs/index.html">Docs</a></li>
    <li><a href="/api/index.html">API</a></li>
    <li><a href="/community.html">Community</a></li>
    <li><a href="https://www.hashicorp.com/products/nomad/?utm_source=oss&utm_medium=header-nav&utm_campaign=nomad">Enterprise</a></li>
    <li><a href="/security.html">Security</a></li>
    <li><a href="/assets/files/press-kit.zip">Press Kit</a></li>
  </ul>

  <div class="divider"></div>

  <ul class="external nav sidebar-nav">
    <li>
      <a href="/downloads.html">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
      </a>
    </li>
    <li>
      <a href="https://github.com/hashicorp/nomad">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
      </a>
    </li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-4 col-md-3 col-xs-12 hidden-print" role="complementary">
          <ul class="nav docs-sidenav">
      <li>
        <a href="/docs/install/index.html">Installing Nomad</a>
      </li>

      <li>
        <a href="/docs/runtime/index.html">Runtime</a>
        <ul class="nav">
          <li>
            <a href="/docs/runtime/environment.html">Environment</a>
          </li>
          <li>
            <a href="/docs/runtime/interpolation.html">Interpolation</a>
          </li>
          <li>
            <a href="/docs/runtime/schedulers.html">Schedulers</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/job-specification/index.html">Job Specification</a>
        <ul class="nav">
          <li>
            <a href="/docs/job-specification/artifact.html">artifact</a>
          </li>
          <li>
            <a href="/docs/job-specification/check_restart.html">check_restart</a>
          </li>
          <li>
            <a href="/docs/job-specification/constraint.html">constraint</a>
          </li>
          <li>
            <a href="/docs/job-specification/dispatch_payload.html">dispatch_payload</a>
          </li>
          <li>
            <a href="/docs/job-specification/env.html">env</a>
          </li>
          <li>
            <a href="/docs/job-specification/ephemeral_disk.html">ephemeral_disk</a>
          </li>
          <li>
            <a href="/docs/job-specification/group.html">group</a>
          </li>
          <li>
            <a href="/docs/job-specification/job.html">job</a>
          </li>
          <li>
            <a href="/docs/job-specification/logs.html">logs</a>
          </li>
          <li>
            <a href="/docs/job-specification/meta.html">meta</a>
          </li>
          <li>
            <a href="/docs/job-specification/migrate.html">migrate</a>
          </li>
          <li>
            <a href="/docs/job-specification/network.html">network</a>
          </li>
          <li>
            <a href="/docs/job-specification/parameterized.html">parameterized</a>
          </li>
          <li>
            <a href="/docs/job-specification/periodic.html">periodic</a>
          </li>
          <li>
            <a href="/docs/job-specification/reschedule.html">reschedule</a>
          </li>
          <li>
            <a href="/docs/job-specification/resources.html">resources</a>
          </li>
          <li>
            <a href="/docs/job-specification/restart.html">restart</a>
          </li>
          <li>
            <a href="/docs/job-specification/service.html">service</a>
          </li>
          <li>
            <a href="/docs/job-specification/task.html">task</a>
          </li>
          <li>
            <a href="/docs/job-specification/template.html">template</a>
          </li>
          <li>
            <a href="/docs/job-specification/update.html">update</a>
          </li>
          <li>
            <a href="/docs/job-specification/vault.html">vault</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/service-discovery/index.html">Service Discovery</a>
      </li>

      <li>
        <a href="/docs/vault-integration/index.html">Vault Integration</a>
      </li>

      <li>
        <a href="/docs/drivers/index.html">Drivers</a>
        <ul class="nav">
          <li>
            <a href="/docs/drivers/docker.html">Docker</a>
          </li>

          <li>
            <a href="/docs/drivers/exec.html">Isolated Fork/Exec</a>
          </li>

          <li>
            <a href="/docs/drivers/java.html">Java</a>
          </li>

          <li>
            <a href="/docs/drivers/lxc.html">LXC</a>
          </li>

          <li>
            <a href="/docs/drivers/qemu.html">Qemu</a>
          </li>

          <li>
            <a href="/docs/drivers/raw_exec.html">Raw Fork/Exec</a>
          </li>


          <li>
            <a href="/docs/drivers/rkt.html">Rkt</a>
          </li>

          <li>
            <a href="/docs/drivers/custom.html">Custom</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/commands/index.html">Commands (CLI)</a>
        <ul class="nav">
          <li>
            <a href="/docs/commands/acl.html">acl</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/acl/bootstrap.html">bootstrap</a>
              </li>
              <li>
                <a href="/docs/commands/acl/policy-apply.html">policy apply</a>
              </li>
              <li>
                <a href="/docs/commands/acl/policy-delete.html">policy delete</a>
              </li>
              <li>
                <a href="/docs/commands/acl/policy-info.html">policy info</a>
              </li>
              <li>
                <a href="/docs/commands/acl/policy-list.html">policy list</a>
              </li>
              <li>
                <a href="/docs/commands/acl/token-create.html">token create</a>
              </li>
              <li>
                <a href="/docs/commands/acl/token-delete.html">token delete</a>
              </li>
              <li>
                <a href="/docs/commands/acl/token-info.html">token info</a>
              </li>
              <li>
                <a href="/docs/commands/acl/token-self.html">token self</a>
              </li>
              <li>
                <a href="/docs/commands/acl/token-update.html">token update</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/agent.html">agent</a>
          </li>
          <li>
            <a href="/docs/commands/agent-info.html">agent-info</a>
          </li>
          <li>
            <a href="/docs/commands/alloc.html">alloc</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/alloc/fs.html">fs</a>
              </li>
              <li>
                <a href="/docs/commands/alloc/logs.html">logs</a>
              </li>
              <li>
                <a href="/docs/commands/alloc/status.html">status</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/deployment.html">deployment</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/deployment/fail.html">fail</a>
              </li>
              <li>
                <a href="/docs/commands/deployment/list.html">list</a>
              </li>
              <li>
                <a href="/docs/commands/deployment/pause.html">pause</a>
              </li>
              <li>
                <a href="/docs/commands/deployment/promote.html">promote</a>
              </li>
              <li>
                <a href="/docs/commands/deployment/resume.html">resume</a>
              </li>
              <li>
                <a href="/docs/commands/deployment/status.html">status</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/eval-status.html">eval status</a>
          </li>
          <li>
            <a href="/docs/commands/job.html">job</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/job/deployments.html">deployments</a>
              </li>
              <li>
                <a href="/docs/commands/job/dispatch.html">dispatch</a>
              </li>
              <li>
                <a href="/docs/commands/job/eval.html">eval</a>
              </li>
              <li>
                <a href="/docs/commands/job/history.html">history</a>
              </li>
              <li>
                <a href="/docs/commands/job/init.html">init</a>
              </li>
              <li>
                <a href="/docs/commands/job/inspect.html">inspect</a>
              </li>
              <li>
                <a href="/docs/commands/job/plan.html">plan</a>
              </li>
              <li>
                <a href="/docs/commands/job/promote.html">promote</a>
              </li>
              <li>
                <a href="/docs/commands/job/revert.html">revert</a>
              </li>
              <li>
                <a href="/docs/commands/job/run.html">run</a>
              </li>
              <li>
                <a href="/docs/commands/job/status.html">status</a>
              </li>
              <li>
                <a href="/docs/commands/job/stop.html">stop</a>
              </li>
              <li>
                <a href="/docs/commands/job/validate.html">validate</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/namespace.html">namespace</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/namespace/apply.html">apply</a>
              </li>
              <li>
                <a href="/docs/commands/namespace/delete.html">delete</a>
              </li>
              <li>
                <a href="/docs/commands/namespace/inspect.html">inspect</a>
              </li>
              <li>
                <a href="/docs/commands/namespace/list.html">list</a>
              </li>
              <li>
                <a href="/docs/commands/namespace/status.html">status</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/node.html">node</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/node/config.html">config</a>
              </li>
              <li>
                <a href="/docs/commands/node/drain.html">drain</a>
              </li>
              <li>
                <a href="/docs/commands/node/eligibility.html">eligibility</a>
              </li>
              <li>
                <a href="/docs/commands/node/status.html">status</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/operator.html">operator</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/operator/autopilot-get-config.html">autopilot get-config</a>
              </li>
              <li>
                <a href="/docs/commands/operator/autopilot-set-config.html">autopilot set-config</a>
              </li>
              <li>
                <a href="/docs/commands/operator/keygen.html">keygen</a>
              </li>
              <li>
                <a href="/docs/commands/operator/keyring.html">keyring</a>
              </li>
              <li>
                <a href="/docs/commands/operator/raft-list-peers.html">raft list-peers</a>
              </li>
              <li>
                <a href="/docs/commands/operator/raft-remove-peer.html">raft remove-peer</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/quota.html">quota</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/quota/apply.html">apply</a>
              </li>
              <li>
                <a href="/docs/commands/quota/delete.html">delete</a>
              </li>
              <li>
                <a href="/docs/commands/quota/init.html">init</a>
              </li>
              <li>
                <a href="/docs/commands/quota/inspect.html">inspect</a>
              </li>
              <li>
                <a href="/docs/commands/quota/list.html">list</a>
              </li>
              <li>
                <a href="/docs/commands/quota/status.html">status</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/sentinel.html">sentinel</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/sentinel/apply.html">apply</a>
              </li>
              <li>
                <a href="/docs/commands/sentinel/delete.html">delete</a>
              </li>
              <li>
                <a href="/docs/commands/sentinel/list.html">list</a>
              </li>
              <li>
                <a href="/docs/commands/sentinel/read.html">read</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/server.html">server</a>
            <ul class="nav">
              <li>
                <a href="/docs/commands/server/force-leave.html">force-leave</a>
              </li>
              <li>
                <a href="/docs/commands/server/join.html">join</a>
              </li>
              <li>
                <a href="/docs/commands/server/members.html">members</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/commands/status.html">status</a>
          </li>
          <li>
            <a href="/docs/commands/ui.html">ui</a>
          </li>
          <li>
            <a href="/docs/commands/version.html">version</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/agent/index.html">Nomad Agent</a>

        <ul class="nav">
          <li >
            <a href="/docs/agent/cloud_auto_join.html">Cloud Auto-join</a>
          </li>
          <li>
            <a href="/docs/agent/configuration/index.html">Configuration</a>
            <ul class="nav">
              <li >
                <a href="/docs/agent/configuration/acl.html">acl</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/autopilot.html">autopilot</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/client.html">client</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/consul.html">consul</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/sentinel.html">sentinel</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/server.html">server</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/server_join.html">server_join</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/telemetry.html">telemetry</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/tls.html">tls</a>
              </li>
              <li >
                <a href="/docs/agent/configuration/vault.html">vault</a>
              </li>
            </ul>
          </li>

          <li>
            <a href="/docs/agent/encryption.html">Encryption</a>
          </li>
          <li>
            <a href="/docs/agent/telemetry.html">Telemetry</a>
          </li>
        </ul>
      </li>

      <hr>

      <li>
        <a href="/docs/internals/index.html">Internals</a>
        <ul class="nav">
          <li>
            <a href="/docs/internals/architecture.html">Architecture</a>
          </li>

          <li>
            <a href="/docs/internals/consensus.html">Consensus Protocol</a>
          </li>

          <li>
            <a href="/docs/internals/gossip.html">Gossip Protocol</a>
          </li>

          <li>
            <a href="/docs/internals/scheduling.html">Scheduling</a>
          </li>
        </ul>
      </li>

      <li class="active">
        <a href="/docs/upgrade/index.html">Upgrading</a>
        <ul class="nav">
          <li>
            <a href="/docs/upgrade/index.html">Upgrading Nomad</a>
          </li>
          <li class="active">
            <a href="/docs/upgrade/upgrade-specific.html">Specific Version Details</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/faq.html">FAQ</a>
      </li>

      <hr>

      <li>
        <a href="/docs/enterprise/index.html">Nomad Enterprise</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/namespaces/index.html">Namespaces</a>
          </li>
          <li>
            <a href="/docs/enterprise/quotas/index.html">Resource Quotas</a>
          </li>
          <li>
            <a href="/docs/enterprise/sentinel/index.html">Sentinel Policies</a>
          </li>
          <li>
            <a href="/docs/enterprise/autopilot/index.html">Advanced Autopilot</a>
          </li>
        </ul>
      </li>

    </ul>

    </div>

    <div id="inner" class="col-sm-8 col-md-9 col-xs-12" role="main">

  <h1 id="upgrading-specific-versions">
  <a name="upgrading-specific-versions" class="anchor" href="#upgrading-specific-versions">&raquo;</a>
  Upgrading Specific Versions
</h1>
<p>The <a href="/docs/upgrade/index.html">upgrading page</a> covers the details of doing
a standard upgrade. However, specific versions of Nomad may have more
details provided for their upgrades as a result of new features or changed
behavior. This page is used to document those details separately from the
standard upgrade flow.</p>
<h2 id="nomad-0-8-0">
  <a name="nomad-0-8-0" class="anchor" href="#nomad-0-8-0">&raquo;</a>
  Nomad 0.8.0
</h2>
<h3 id="raft-protocol-version-compatibility">
  <a name="raft-protocol-version-compatibility" class="anchor" href="#raft-protocol-version-compatibility">&raquo;</a>
  Raft Protocol Version Compatibility
</h3>
<p>When upgrading to Nomad 0.8.0 from a version lower than 0.7.0, users will need
to set the
<a href="/docs/agent/configuration/server.html#raft_protocol"><code>raft_protocol</code></a> option
in their <code>server</code> stanza to 1 in order to maintain backwards compatibility with
the old servers during the upgrade.  After the servers have been migrated to
version 0.8.0, <code>raft_protocol</code> can be moved up to 2 and the servers restarted
to match the default.</p>
<p>The Raft protocol must be stepped up in this way; only adjacent version numbers are
compatible (for example, version 1 cannot talk to version 3). Here is a table of the
Raft Protocol versions supported by each Nomad version:</p>
<table class="table table-bordered table-striped">
<p><tr>
  <th>Version</th>
  <th>Supported Raft Protocols</th>
</tr>
<tr>
  <td>0.6 and earlier</td>
  <td>0</td>
</tr>
<tr>
  <td>0.7</td>
  <td>1</td>
</tr>
<tr>
  <td>0.8</td>
  <td>1, 2, 3</td>
</tr></p>
</table><p>In order to enable all <a href="/guides/cluster/autopilot.html">Autopilot</a> features, all servers
in a Nomad cluster must be running with Raft protocol version 3 or later.</p>
<h4 id="upgrading-to-raft-protocol-3">
  <a name="upgrading-to-raft-protocol-3" class="anchor" href="#upgrading-to-raft-protocol-3">&raquo;</a>
  Upgrading to Raft Protocol 3
</h4>
<p>This section provides details on upgrading to Raft Protocol 3 in Nomad 0.8 and higher. Raft protocol version 3 requires Nomad running 0.8.0 or newer on all servers in order to work. See <a href="/docs/upgrade/upgrade-specific.html#raft-protocol-version-compatibility">Raft Protocol Version Compatibility</a> for more details. Also the format of <code>peers.json</code> used for outage recovery is different when running with the latest Raft protocol. See <a href="/guides/outage.html#manual-recovery-using-peers-json">Manual Recovery Using peers.json</a> for a description of the required format.</p>
<p>Please note that the Raft protocol is different from Nomad&#39;s internal protocol as shown in commands like <code>nomad server members</code>. To see the version of the Raft protocol in use on each server, use the <code>nomad operator raft list-peers</code> command.</p>
<p>The easiest way to upgrade servers is to have each server leave the cluster, upgrade its <code>raft_protocol</code> version in the <code>server</code> stanza, and then add it back. Make sure the new server joins successfully and that the cluster is stable before rolling the upgrade forward to the next server. It&#39;s also possible to stand up a new set of servers, and then slowly stand down each of the older servers in a similar fashion.</p>
<p>When using Raft protocol version 3, servers are identified by their <code>node-id</code> instead of their IP address when Nomad makes changes to its internal Raft quorum configuration. This means that once a cluster has been upgraded with servers all running Raft protocol version 3, it will no longer allow servers running any older Raft protocol versions to be added. If running a single Nomad server, restarting it in-place will result in that server not being able to elect itself as a leader. To avoid this, either set the Raft protocol back to 2, or use <a href="/docs/guides/outage.html#manual-recovery-using-peers-json">Manual Recovery Using peers.json</a> to map the server to its node ID in the Raft quorum configuration.</p>
<h3 id="node-draining-improvements">
  <a name="node-draining-improvements" class="anchor" href="#node-draining-improvements">&raquo;</a>
  Node Draining Improvements
</h3>
<p>Node draining via the <a href="/docs/commands/node/drain.html"><code>node drain</code></a> command or the <a href="/api/nodes.html#drain-node">drain
API</a> has been substantially changed in Nomad 0.8. In Nomad 0.7.1 and
earlier draining a node would immediately stop all allocations on the node
being drained. Nomad 0.8 now supports a <a href="/docs/job-specification/migrate.html"><code>migrate</code></a> stanza in job
specifications to control how many allocations may be migrated at once and the
default will be used for existing jobs.</p>
<p>The <code>drain</code> command now blocks until the drain completes. To get the Nomad
0.7.1 and earlier drain behavior use the command: <code>nomad node drain -enable
-force -detach &lt;node-id&gt;</code></p>
<p>See the <a href="/docs/job-specification/migrate.html"><code>migrate</code> stanza documentation</a> and <a href="/guides/node-draining.html">Decommissioning Nodes
guide</a> for details.</p>
<h3 id="periods-in-environment-variable-names-no-longer-escaped">
  <a name="periods-in-environment-variable-names-no-longer-escaped" class="anchor" href="#periods-in-environment-variable-names-no-longer-escaped">&raquo;</a>
  Periods in Environment Variable Names No Longer Escaped
</h3>
<p><em>Applications which expect periods in environment variable names to be replaced
with underscores must be updated.</em></p>
<p>In Nomad 0.7 periods (<code>.</code>) in environment variables names were replaced with an
underscore in both the <a href="/docs/job-specification/env.html"><code>env</code></a> and
<a href="/docs/job-specification/template.html"><code>template</code></a> stanzas.</p>
<p>In Nomad 0.8 periods are <em>not</em> replaced and will be included in environment
variables verbatim.</p>
<p>For example the following stanza:</p>
<div class="highlight"><pre class="highlight plaintext"><code>env {
  registry.consul.addr = "${NOMAD_IP_http}:8500"
}
</code></pre></div><p>In Nomad 0.7 would be exposed to the task as
<code>registry_consul_addr=127.0.0.1:8500</code>. In Nomad 0.8 it will now appear exactly
as specified: <code>registry.consul.addr=127.0.0.1:8500</code>.</p>
<h3 id="client-apis-unavailable-on-older-nodes">
  <a name="client-apis-unavailable-on-older-nodes" class="anchor" href="#client-apis-unavailable-on-older-nodes">&raquo;</a>
  Client APIs Unavailable on Older Nodes
</h3>
<p>Because Nomad 0.8 uses a new RPC mechanism to route node-specific APIs like
<a href="/docs/commands/alloc/fs.html"><code>nomad alloc fs</code></a> through servers to the node,
0.8 CLIs are incompatible using these commands on clients older than 0.8.</p>
<p>To access these commands on older clients either continue to use a pre-0.8
version of the CLI, or upgrade all clients to 0.8.</p>
<h3 id="cli-command-changes">
  <a name="cli-command-changes" class="anchor" href="#cli-command-changes">&raquo;</a>
  CLI Command Changes
</h3>
<p>Nomad 0.8 has changed the organization of CLI commands to be based on
subcommands. An example of this change is the change from <code>nomad alloc-status</code>
to <code>nomad alloc status</code>. All commands have been made to be backwards compatible,
but operators should update any usage of the old style commands to the new style
as the old style will be deprecated in future versions of Nomad.</p>
<h3 id="rpc-advertise-address">
  <a name="rpc-advertise-address" class="anchor" href="#rpc-advertise-address">&raquo;</a>
  RPC Advertise Address
</h3>
<p>The behavior of the <a href="/docs/agent/configuration/index.html#rpc-1">advertised RPC
address</a> has changed to be only used
to advertise the RPC address of servers to client nodes. Server to server
communication is done using the advertised Serf address. Existing cluster&#39;s
should not be effected but the advertised RPC address may need to be updated to
allow connecting client&#39;s over a NAT.</p>
<h2 id="nomad-0-6-0">
  <a name="nomad-0-6-0" class="anchor" href="#nomad-0-6-0">&raquo;</a>
  Nomad 0.6.0
</h2>
<h3 id="default-advertise-address-changes">
  <a name="default-advertise-address-changes" class="anchor" href="#default-advertise-address-changes">&raquo;</a>
  Default <code>advertise</code> address changes
</h3>
<p>When no <code>advertise</code> address was specified and Nomad&#39;s <code>bind_addr</code> was loopback
or <code>0.0.0.0</code>, Nomad attempted to resolve the local hostname to use as an
advertise address.</p>
<p>Many hosts cannot properly resolve their hostname, so Nomad 0.6 defaults
<code>advertise</code> to the first private IP on the host (e.g. <code>10.1.2.3</code>).</p>
<p>If you manually configure <code>advertise</code> addresses no changes are necessary.</p>
<h2 id="nomad-clients">
  <a name="nomad-clients" class="anchor" href="#nomad-clients">&raquo;</a>
  Nomad Clients
</h2>
<p>The change to the default, advertised IP also effect clients that do not specify
which network_interface to use. If you have several routable IPs, it is advised
to configure the client&#39;s <a href="https://www.nomadproject.io/docs/agent/configuration/client.html#network_interface">network
interface</a>
such that tasks bind to the correct address.</p>
<h2 id="nomad-0-5-5">
  <a name="nomad-0-5-5" class="anchor" href="#nomad-0-5-5">&raquo;</a>
  Nomad 0.5.5
</h2>
<h3 id="docker-load-changes">
  <a name="docker-load-changes" class="anchor" href="#docker-load-changes">&raquo;</a>
  Docker <code>load</code> changes
</h3>
<p>Nomad 0.5.5 has a backward incompatible change in the <code>docker</code> driver&#39;s
configuration. Prior to 0.5.5 the <code>load</code> configuration option accepted a list
images to load, in 0.5.5 it has been changed to a single string. No
functionality was changed. Even if more than one item was specified prior to
0.5.5 only the first item was used.</p>
<p>To do a zero-downtime deploy with jobs that use the <code>load</code> option:</p>

<ul>
<li><p>Upgrade servers to version 0.5.5 or later.</p>
</li>
<li><p>Deploy new client nodes on the same version as the servers.</p>
</li>
<li><p>Resubmit jobs with the <code>load</code> option fixed and a constraint to only run on
version 0.5.5 or later:</p>
</li>
</ul>
<div class="highlight"><pre class="highlight hcl"><code>    <span class="n">constraint</span> <span class="p">{</span>
      <span class="n">attribute</span> <span class="o">=</span> <span class="s2">"${attr.nomad.version}"</span>
      <span class="n">operator</span>  <span class="o">=</span> <span class="s2">"version"</span>
      <span class="n">value</span>     <span class="o">=</span> <span class="s2">"&gt;= 0.5.5"</span>
    <span class="p">}</span>
</code></pre></div>
<ul>
<li>Drain and shutdown old client nodes.
</li>
</ul>
<h3 id="validation-changes">
  <a name="validation-changes" class="anchor" href="#validation-changes">&raquo;</a>
  Validation changes
</h3>
<p>Due to internal job serialization and validation changes you may run into
issues using 0.5.5 command line tools such as <code>nomad run</code> and <code>nomad validate</code>
with 0.5.4 or earlier agents.</p>
<p>It is recommended you upgrade agents before or alongside your command line
tools.</p>
<h2 id="nomad-0-4-0">
  <a name="nomad-0-4-0" class="anchor" href="#nomad-0-4-0">&raquo;</a>
  Nomad 0.4.0
</h2>
<p>Nomad 0.4.0 has backward incompatible changes in the logic for Consul
deregistration.  When a Task which was started by Nomad v0.3.x is uncleanly shut
down, the Nomad 0.4 Client will no longer clean up any stale services.  If an
in-place upgrade of the Nomad client to 0.4 prevents the Task from gracefully
shutting down and deregistering its Consul-registered services, the Nomad Client
will not clean up the remaining Consul services registered with the 0.3
Executor.</p>
<p>We recommend draining a node before upgrading to 0.4.0 and then re-enabling the
node once the upgrade is complete.</p>
<h2 id="nomad-0-3-1">
  <a name="nomad-0-3-1" class="anchor" href="#nomad-0-3-1">&raquo;</a>
  Nomad 0.3.1
</h2>
<p>Nomad 0.3.1 removes artifact downloading from driver configurations and places them as
a first class element of the task. As such, jobs will have to be rewritten in
the proper format and resubmitted to Nomad. Nomad clients will properly
re-attach to existing tasks but job definitions must be updated before they can
be dispatched to clients running 0.3.1.</p>
<h2 id="nomad-0-3-0">
  <a name="nomad-0-3-0" class="anchor" href="#nomad-0-3-0">&raquo;</a>
  Nomad 0.3.0
</h2>
<p>Nomad 0.3.0 has made several substantial changes to job files included a new
<code>log</code> block and variable interpretation syntax (<code>${var}</code>), a modified <code>restart</code>
policy syntax, and minimum resources for tasks as well as validation. These
changes require a slight change to the default upgrade flow.</p>
<p>After upgrading the version of the servers, all previously submitted jobs must
be resubmitted with the updated job syntax using a Nomad 0.3.0 binary.</p>

<ul>
<li><p>All instances of <code>$var</code> must be converted to the new syntax of <code>${var}</code></p>
</li>
<li><p>All tasks must provide their required resources for CPU, memory and disk as
well as required network usage if ports are required by the task.</p>
</li>
<li><p>Restart policies must be updated to indicate whether it is desired for the
task to restart on failure or to fail using <code>mode = &quot;delay&quot;</code> or <code>mode =
&quot;fail&quot;</code> respectively.</p>
</li>
<li><p>Service names that include periods will fail validation. To fix, remove any
periods from the service name before running the job.</p>
</li>
</ul>
<p>After updating the Servers and job files, Nomad Clients can be upgraded by first
draining the node so no tasks are running on it. This can be verified by running
<code>nomad node status &lt;node-id&gt;</code> and verify there are no tasks in the <code>running</code>
state. Once that is done the client can be killed, the <code>data_dir</code> should be
deleted and then Nomad 0.3.0 can be launched.</p>


    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="/intro/index.html">Intro</a></li>
              <li><a href="/guides/index.html">Guides</a></li>
              <li><a href="/docs/index.html">Docs</a></li>
              <li><a href="/api/index.html">API</a></li>
              <li><a href="/resources.html">Resources</a></li>
              <li><a href="https://www.hashicorp.com/products/nomad/?utm_source=oss&utm_medium=header-nav&utm_campaign=nomad">Enterprise</a></li>
              <li><a href="https://demo.nomadproject.io">UI Demo</a></li>
              <li><a href="https://www.hashicorp.com/privacy">Privacy</a></li>
              <li><a href="/security.html">Security</a></li>
              <li><a href="/assets/files/press-kit.zip">Press Kit</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="https://github.com/hashicorp/nomad/blob/master/website/source/docs/upgrade/upgrade-specific.html.md">Edit this page</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Product",
        "name": "Nomad",
        "alternateName": "Nomad by HashiCorp",
        "manufacturer": "HashiCorp",
        "url": "https://www.nomadproject.io",
        "logo": "https://www.nomadproject.io/assets/images/logo-hashicorp-039941e4.svg",
        "sameAs": [
          "https://github.com/hashicorp/nomad"
        ]
      }
    </script>
  </body>
</html>
